{% extends "base.html" %}

{% block title %}{{ t('ููุญุฉ ุงูุชุญูู') }} - Non Real Assistant{% endblock %}

{% block page_title %}{{ t('ููุญุฉ ุงูุชุญูู') }}{% endblock %}
{% block page_subtitle %}{{ t('ูุฑุญุจุงู ุจู ูู') }} Non Real Assistant{% endblock %}

{% block page_actions %}
<div class="btn-list">
    <a href="#" class="btn btn-primary d-none d-sm-inline-block" data-bs-toggle="modal" data-bs-target="#modal-task">
        <i class="ti ti-plus icon"></i>
        {{ t('ุฅุถุงูุฉ ูููุฉ') }}
    </a>
    <a href="/assistants" class="btn btn-ghost-secondary">
        <i class="ti ti-robot icon"></i>
        {{ t('ุฅุถุงูุฉ ูุณุงุนุฏ') }}
    </a>
</div>
{% endblock %}

{% block content %}
<!-- Empty Assistants Alert (hidden by default) -->
<div class="alert alert-info alert-dismissible mb-3" id="no-assistants-alert" style="display: none;">
    <div class="d-flex">
        <div>
            <i class="ti ti-robot icon alert-icon"></i>
        </div>
        <div class="ms-3">
            <h4 class="alert-title">{{ t('ูุง ููุฌุฏ ูุฏูู ูุณุงุนุฏูู ุจุนุฏ!') }}</h4>
            <div class="text-muted">{{ t('ุงุจุฏุฃ ุจุฅูุดุงุก ูุณุงุนุฏ ุดุฎุตู ูุชุชููู ูู ุชูุธูู ููุงูู ูุชููู ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ.') }}
            </div>
            <div class="mt-2">
                <a href="/assistants" class="btn btn-primary btn-sm">
                    <i class="ti ti-plus icon"></i>
                    {{ t('ุฅูุดุงุก ูุณุงุนุฏ ุฌุฏูุฏ') }}
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Stats Row -->
<div class="row row-deck row-cards">
    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">{{ t('ูุณุงุนุฏูู ูุดุทูู') }}</div>
                    <div class="ms-auto lh-1">
                        <div class="dropdown">
                            <a class="dropdown-toggle text-muted" href="#" data-bs-toggle="dropdown">{{ t('ุขุฎุฑ 7 ุฃูุงู')
                                }}</a>
                        </div>
                    </div>
                </div>
                <div class="h1 mb-3" id="active-assistants">0</div>
                <div class="d-flex mb-2">
                    <div>{{ t('ูุณุงุนุฏ ูุดุท') }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">{{ t('ููุงู ููุชุฃุฎุฑุฉ') }}</div>
                </div>
                <div class="h1 mb-3" id="pending-tasks">0</div>
                <div class="d-flex mb-2">
                    <div>{{ t('ูููุฉ ุชุญุชุงุฌ ุฅูุฌุงุฒ') }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">{{ t('ุฃููุฌุฒุช ุงูููู') }}</div>
                </div>
                <div class="h1 mb-3" id="completed-today">0</div>
                <div class="d-flex mb-2">
                    <div>{{ t('ูููุฉ ููุชููุฉ') }}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-sm-6 col-lg-3">
        <div class="card">
            <div class="card-body">
                <div class="d-flex align-items-center">
                    <div class="subheader">{{ t('ุนูููุงุช ุญุฏูุซุฉ') }}</div>
                </div>
                <div class="h1 mb-3" id="recent-executions-count">0</div>
                <div class="d-flex mb-2">
                    <div>{{ t('ุนูููุฉ ุชูููุฐ') }}</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Content Row -->
<div class="row row-deck row-cards mt-3">
    <!-- Pending Tasks -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">{{ t('ููุงู ููุชุฃุฎุฑุฉ') }}</h3>
                <div class="card-actions">
                    <a href="/tasks" class="btn btn-sm btn-ghost-secondary">
                        {{ t('ุนุฑุถ ุงููู') }}
                        <i class="ti ti-arrow-left icon"></i>
                    </a>
                </div>
            </div>
            <div class="card-body" id="tasks-list">
                <div class="text-center py-5">
                    <div class="spinner-border text-muted" role="status"></div>
                    <div class="mt-2">{{ t('ุฌุงุฑู ุงูุชุญููู...') }}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Executions -->
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">{{ t('ุขุฎุฑ ุงูุนูููุงุช') }}</h3>
                <div class="card-actions">
                    <a href="/executions" class="btn btn-sm btn-ghost-secondary">
                        {{ t('ุนุฑุถ ุงููู') }}
                        <i class="ti ti-arrow-left icon"></i>
                    </a>
                </div>
            </div>
            <div class="card-body" id="executions-list">
                <div class="text-center py-5">
                    <div class="spinner-border text-muted" role="status"></div>
                    <div class="mt-2">{{ t('ุฌุงุฑู ุงูุชุญููู...') }}</div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block modals %}
<!-- Task Modal -->
<div class="modal modal-blur fade" id="modal-task" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal-title">{{ t('ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ') }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label required">{{ t('ุนููุงู ุงููููุฉ') }}</label>
                    <input type="text" class="form-control" id="task-title" placeholder="{{ t('ุงูุชุจ ุนููุงู ุงููููุฉ') }}">
                </div>
                <div class="mb-3">
                    <label class="form-label">{{ t('ุงููุตู') }}</label>
                    <textarea class="form-control" id="task-description" rows="3"
                              placeholder="{{ t('ุชูุงุตูู ุงููููุฉ (ุงุฎุชูุงุฑู)') }}"></textarea>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="mb-3">
                            <label class="form-label">{{ t('ุงูุฃููููุฉ') }}</label>
                            <select class="form-select" id="task-priority">
                                <option value="low">{{ t('ููุฎูุถุฉ') }}</option>
                                <option value="medium" selected>{{ t('ูุชูุณุทุฉ') }}</option>
                                <option value="high">{{ t('ุนุงููุฉ') }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="mb-3">
                            <label class="form-label">{{ t('ุชุงุฑูุฎ ูููุช ุงูุงุณุชุญูุงู') }}</label>
                            <input type="text" class="form-control" id="task-due-date" placeholder="dd/mm/yyyy hh:mm"
                                   readonly>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">{{ t('ููุช ุงูุชุฐููุฑ') }}</label>
                    <input type="text" class="form-control" id="task-reminder" placeholder="dd/mm/yyyy hh:mm" readonly>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn me-auto" data-bs-dismiss="modal">{{ t('ุฅูุบุงุก') }}</button>
                <button type="button" class="btn btn-primary" id="btn-save-task" onclick="saveTask()">{{ t('ุญูุธ') }}
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block page_js %}
<script>
    // Translation strings for JavaScript
    window.translations = {
        'no_recent_operations': "{{ t('ูุง ุชูุฌุฏ ุนูููุงุช ุญุฏูุซุฉ') }}",
        'deleted_script': "{{ t('ุณูุฑูุจุช ูุญุฐูู') }}",
        'error_loading_data': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูุจูุงูุงุช') }}",
        'no_pending_tasks': "{{ t('ุฑุงุฆุน! ูุง ุชูุฌุฏ ููุงู ููุชุฃุฎุฑุฉ') }}",
        'complete': "{{ t('ุฅููุงู') }}",
        'edit': "{{ t('ุชุนุฏูู') }}",
        'hold': "{{ t('ุชุนููู') }}",
        'delete': "{{ t('ุญุฐู') }}",
        'confirm_complete_task': "{{ t('ูู ุชุฑูุฏ ุชุนููู ูุฐู ุงููููุฉ ูููุชููุฉุ') }}",
        'error_updating_task': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุชุญุฏูุซ ุงููููุฉ') }}",
        'connection_error': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุงูุงุชุตุงู') }}",
        'task_not_found': "{{ t('ุงููููุฉ ุบูุฑ ููุฌูุฏุฉ') }}",
        'edit_task': "{{ t('ุชุนุฏูู ุงููููุฉ') }}",
        'save_changes': "{{ t('ุญูุธ ุงูุชุนุฏููุงุช') }}",
        'error_loading_task': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงููููุฉ') }}",
        'confirm_hold_task': "{{ t('ูู ุชุฑูุฏ ุชุนููู ูุฐู ุงููููุฉ ูุคูุชุงูุ') }}",
        'error_holding_task': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุชุนููู ุงููููุฉ') }}",
        'confirm_delete_task': "{{ t('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐู ุงููููุฉุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก!') }}",
        'error_deleting_task': "{{ t('ุญุฏุซ ุฎุทุฃ ูู ุญุฐู ุงููููุฉ') }}",
        'add_new_task': "{{ t('ุฅุถุงูุฉ ูููุฉ ุฌุฏูุฏุฉ') }}",
        'save': "{{ t('ุญูุธ') }}",
        'please_enter_task_title': "{{ t('ูุฑุฌู ุฅุฏุฎุงู ุนููุงู ุงููููุฉ') }}",
        'error': "{{ t('ุฎุทุฃ') }}",
        'failed_to_save_task': "{{ t('ูุดู ูู ุญูุธ ุงููููุฉ') }}",
        'confirm_logout': "{{ t('ูู ุฃูุช ูุชุฃูุฏ ูู ุชุณุฌูู ุงูุฎุฑูุฌุ') }}",
        'success_status': "{{ t('โ ูุฌุญ') }}",
        'failed_status': "{{ t('โ ูุดู') }}",
        'running_status': "{{ t('โณ ููุฏ ุงูุชูููุฐ') }}",
        'pending_status': "{{ t('โธ ูุนูู') }}",
        'high_priority': "{{ t('๐ด ุนุงููุฉ') }}",
        'medium_priority': "{{ t('๐ก ูุชูุณุทุฉ') }}",
        'low_priority': "{{ t('๐ข ููุฎูุถุฉ') }}",
        'since': "{{ t('ููุฐ') }}",
        'minute': "{{ t('ุฏูููุฉ') }}",
        'hour': "{{ t('ุณุงุนุฉ') }}",
        'day': "{{ t('ููู') }}"
    };
</script>
<script src="{{ url_for('static', filename='js/dashboard-tabler.js') }}"></script>
{% endblock %}